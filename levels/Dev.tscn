[gd_scene load_steps=20 format=4 uid="uid://cte63dwqeyt01"]

[ext_resource type="Texture2D" uid="uid://buslo86sw1e53" path="res://tiles/kenney_tower-defense/Spritesheet/evenly_fit.png" id="1_5i40r"]
[ext_resource type="PackedScene" uid="uid://1bqybepbj03k" path="res://enemies/marine/Marine.tscn" id="2_2upi3"]
[ext_resource type="Script" path="res://levels/tile_map_layer.gd" id="2_cu7li"]
[ext_resource type="PackedScene" uid="uid://dtog7uqp4b56o" path="res://towers/drifter/drifter.tscn" id="2_hv0h7"]
[ext_resource type="PackedScene" uid="uid://dgsejljbepdrd" path="res://builder/Builder.tscn" id="4_d4f77"]
[ext_resource type="PackedScene" uid="uid://bf23kt0uiy10r" path="res://levels/common/miss_point_marker.tscn" id="4_pr3gx"]
[ext_resource type="PackedScene" uid="uid://uf3cjynehc6m" path="res://cursor/Cursor.tscn" id="5_oxm6x"]
[ext_resource type="PackedScene" uid="uid://cp7sxpqtdeqqj" path="res://enemies/spawner/EnemySpawner.tscn" id="6_audhg"]
[ext_resource type="PackedScene" uid="uid://bouqski3615ou" path="res://ui/MainUI.tscn" id="8_l2cck"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_st76x"]
vertices = PackedVector2Array(68, -16, 0, 19, -67.5, -14.5, 0.5, -49.5)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(0.5, -49.5, -67.5, -14.5, 0, 19, 68, -16)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_n1tyy"]
vertices = PackedVector2Array(66.25, -18.5, 2.25, 14, -63.75, -15.5, 1.25, -48)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1.25, -48, -63.75, -15.5, 2.25, 14, 66.25, -18.5)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_8qej1"]
vertices = PackedVector2Array(66.25, -18.5, 2.25, 14, -63.75, -15.5, 1.25, -48)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1.25, -48, -63.75, -15.5, 2.25, 14, 66.25, -18.5)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_os6b5"]
vertices = PackedVector2Array(66.25, -18.5, 2.25, 14, -63.75, -15.5, 1.25, -48)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1.25, -48, -63.75, -15.5, 2.25, 14, 66.25, -18.5)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_ufnnl"]
vertices = PackedVector2Array(66.25, -18.5, 2.25, 14, -63.75, -15.5, 1.25, -48)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1.25, -48, -63.75, -15.5, 2.25, 14, 66.25, -18.5)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_yqc04"]
vertices = PackedVector2Array(66.25, -18.5, 2.25, 14, -63.75, -15.5, 1.25, -48)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1.25, -48, -63.75, -15.5, 2.25, 14, 66.25, -18.5)])
agent_radius = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_5m8ag"]
texture = ExtResource("1_5i40r")
texture_region_size = Vector2i(132, 98)
0:0/0 = 0
0:0/0/terrain_set = 0
0:0/0/terrain = 1
0:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_st76x")
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
0:1/0 = 0
1:1/0 = 0
1:1/0/terrain_set = 0
1:1/0/terrain = 1
1:1/0/terrains_peering_bit/right_corner = 0
1:1/0/terrains_peering_bit/bottom_right_side = 0
1:1/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_n1tyy")
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
4:1/0/terrain_set = 0
4:1/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_ufnnl")
5:1/0 = 0
5:1/0/terrain_set = 0
5:1/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_yqc04")
6:1/0 = 0
0:2/0 = 0
1:2/0 = 0
1:2/0/terrain_set = 0
1:2/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_8qej1")
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
2:3/0/terrain_set = 0
3:3/0 = 0
3:3/0/terrain_set = 0
3:3/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_os6b5")
4:3/0 = 0
4:3/0/terrain_set = 0
5:3/0 = 0
5:3/0/terrain_set = 0
6:3/0 = 0
0:4/0 = 0
0:4/0/terrain_set = 0
1:4/0 = 0
1:4/0/terrain_set = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
5:4/0/terrain_set = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
4:5/0 = 0
5:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
0:7/0 = 0
1:7/0 = 0
2:7/0 = 0
3:7/0 = 0
4:7/0 = 0
5:7/0 = 0
1:0/0 = 0
1:0/0/terrain_set = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(1.5, 17, 59, -16.5, 1, -47, -60.5, -16)

[sub_resource type="TileSet" id="TileSet_vrc2l"]
tile_shape = 1
tile_size = Vector2i(132, 67)
uv_clipping = true
physics_layer_0/collision_layer = 1
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "Terrain 0"
terrain_set_0/terrain_0/color = Color(0.5, 0.34375, 0.25, 1)
terrain_set_0/terrain_1/name = "Terrain 1"
terrain_set_0/terrain_1/color = Color(0.5, 0.4375, 0.25, 1)
navigation_layer_0/layers = 1
sources/15 = SubResource("TileSetAtlasSource_5m8ag")
tile_proxies/coords_level = [[9, Vector2i(0, 0)], [14, Vector2i(0, 0)], [10, Vector2i(0, 0)], [14, Vector2i(1, 0)], [11, Vector2i(0, 0)], [14, Vector2i(2, 0)], [12, Vector2i(0, 0)], [14, Vector2i(3, 0)], [13, Vector2i(0, 0)], [14, Vector2i(4, 0)]]

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_x6kge"]
scenes/1/scene = ExtResource("2_hv0h7")

[sub_resource type="TileSet" id="TileSet_7kj6o"]
tile_shape = 1
tile_size = Vector2i(132, 67)
sources/0 = SubResource("TileSetScenesCollectionSource_x6kge")

[node name="Dev" type="Node2D"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
y_sort_enabled = true
position = Vector2(-131, -205)
tile_map_data = PackedByteArray("AAABAAkADwAAAAAAAAACAAoADwAAAAAAAAACAAsADwAAAAAAAAACAAwADwAAAAAAAAACAA0ADwAAAAAAAAADAAwADwAAAAAAAAADAA0ADwAAAAAAAAAEAA4ADwAAAAAAAAADAA8ADwAAAAAAAAAEABAADwABAAAAAAAEAA8ADwABAAAAAAAFAA4ADwABAAAAAAAFAA8ADwABAAAAAAAGABAADwABAAAAAAAGABEADwABAAAAAAAGABIADwABAAAAAAAGABMADwABAAAAAAAHABIADwABAAAAAAAHABAADwABAAAAAAAGAA8ADwABAAAAAAAHAA4ADwABAAAAAAAGAA0ADwABAAAAAAAGAAwADwABAAAAAAAFAAsADwAAAAAAAAAGAAoADwAAAAAAAAAFAAkADwAAAAAAAAAGAAgADwAAAAAAAAAHAAgADwAAAAAAAAAHAAkADwAAAAAAAAAIAAoADwAAAAAAAAAIAAsADwAAAAAAAAAJAAwADwAAAAAAAAAIAA0ADwAAAAAAAAAJAA4ADwAAAAAAAAAGAAcADwAAAAAAAAAIAA8ADwAAAAAAAAAJABAADwAAAAAAAAAIABEADwAAAAAAAAAJABIADwAAAAAAAAAIABMADwAAAAAAAAAIABQADwAAAAAAAAAIABUADwAAAAAAAAAIABYADwAAAAAAAAAHABcADwAAAAAAAAAHABYADwAAAAAAAAAGABcADwAAAAAAAAAGABgADwAAAAAAAAAFABcADwAAAAAAAAAFABgADwAAAAAAAAAEABcADwAAAAAAAAAFABYADwAAAAAAAAAEABUADwAAAAAAAAAEABYADwAAAAAAAAADABUADwAAAAAAAAADABYADwAAAAAAAAACABUADwAAAAAAAAACABQADwAAAAAAAAACABMADwAAAAAAAAACABIADwAAAAAAAAABABMADwAAAAAAAAABABQADwAAAAAAAAAAABMADwAAAAAAAAAFABIADwABAAAAAAAFABEADwABAAAAAAAFABAADwABAAAAAAAEABEADwABAAAAAAAEABIADwABAAAAAAADABEADwABAAAAAAADABAADwABAAAAAAACAA8ADwABAAAAAAADAA4ADwAAAAAAAAACAA4ADwABAAAAAAABAA0ADwABAAAAAAABAAwADwABAAAAAAABAAsADwAAAAAAAAABAAoADwABAAAAAAAAAAkADwABAAAAAAABAAgADwABAAAAAAABAAcADwABAAAAAAACAAgADwABAAAAAAACAAcADwABAAAAAAADAAgADwABAAAAAAADAAcADwABAAAAAAAEAAgADwABAAAAAAAEAAcADwABAAAAAAAFAAgADwABAAAAAAAFAAcADwABAAAAAAADAAkADwABAAAAAAADAAoADwAAAAAAAAACAAkADwAAAAAAAAADAAsADwAAAAAAAAAEAAwADwAAAAAAAAAEAAsADwAAAAAAAAAFAAoADwAAAAAAAAAFAAwADwAAAAAAAAAEAA0ADwAAAAAAAAAFAA0ADwABAAAAAAAGAA4ADwABAAAAAAAAAAcADwABAAAAAAAAAAgADwABAAAAAAAAAAoADwABAAAAAAAAAAsADwABAAAAAAAAAAwADwABAAAAAAAAAA0ADwABAAAAAAAAAA4ADwABAAAAAAAAAA8ADwABAAAAAAABAA4ADwABAAAAAAABAA8ADwABAAAAAAABABAADwABAAAAAAAAABEADwABAAAAAAAAABAADwABAAAAAAAAABIADwABAAAAAAABABIADwAAAAAAAAABABEADwABAAAAAAACABAADwABAAAAAAACABEADwABAAAAAAADABIADwABAAAAAAADABMADwAAAAAAAAADABQADwAAAAAAAAAEABQADwAAAAAAAAAEABMADwAAAAAAAAAFABQADwAAAAAAAAAFABMADwABAAAAAAAGABQADwAAAAAAAAAFABUADwAAAAAAAAAGABYADwAAAAAAAAAGABUADwAAAAAAAAAHABQADwAAAAAAAAAHABMADwAAAAAAAAAIABIADwAAAAAAAAAHABEADwAAAAAAAAAIABAADwAAAAAAAAAHAA8ADwAAAAAAAAAIAA4ADwAAAAAAAAAHAA0ADwABAAAAAAAIAAwADwAAAAAAAAAHAAsADwAAAAAAAAAHAAoADwAAAAAAAAAGAAkADwAAAAAAAAAGAAsADwABAAAAAAAHAAwADwABAAAAAAAHABUADwAAAAAAAAADABcADwABAAAAAAADABgADwABAAAAAAACABcADwABAAAAAAACABYADwAAAAAAAAABABUADwAAAAAAAAABABYADwAAAAAAAAAAABUADwAAAAAAAAAAABQADwABAAAAAAAAABYADwABAAAAAAAAABcADwABAAAAAAAAABgADwABAAAAAAABABgADwABAAAAAAABABcADwABAAAAAAACABgADwABAAAAAAAEABgADwABAAAAAAAHABgADwABAAAAAAAIABcADwABAAAAAAAJABYADwABAAAAAAAJABUADwABAAAAAAAJABQADwABAAAAAAAJABMADwABAAAAAAAJABcADwABAAAAAAAJABgADwABAAAAAAAIABgADwABAAAAAAAJAAgADwABAAAAAAAJAAcADwABAAAAAAAIAAcADwABAAAAAAAIAAgADwABAAAAAAAHAAcADwABAAAAAAAIAAkADwABAAAAAAAJAAoADwABAAAAAAAJAAkADwABAAAAAAAJAAsADwABAAAAAAAJABEADwABAAAAAAAKABAADwABAAAAAAAJAA8ADwABAAAAAAAKAA4ADwABAAAAAAAJAA0ADwABAAAAAAAKAAwADwABAAAAAAAKABIADwABAAAAAAAKABMADwABAAAAAAAKABQADwABAAAAAAAKABUADwABAAAAAAAKABYADwABAAAAAAAKABgADwABAAAAAAAJABkADwABAAAAAAAJABoADwABAAAAAAAIABkADwABAAAAAAAIABoADwABAAAAAAAHABkADwABAAAAAAAHABoADwABAAAAAAAGABkADwABAAAAAAAGABoADwABAAAAAAAFABkADwABAAAAAAAFABoADwABAAAAAAAEABsADwABAAAAAAAEABoADwABAAAAAAAEABkADwABAAAAAAADABkADwABAAAAAAADABoADwABAAAAAAACABkADwABAAAAAAABABkADwABAAAAAAAAABkADwABAAAAAAAAAAYADwABAAAAAAAAAAUADwABAAAAAAABAAQADwABAAAAAAABAAUADwABAAAAAAABAAYADwABAAAAAAACAAUADwABAAAAAAACAAYADwABAAAAAAACAAQADwABAAAAAAABAAMADwABAAAAAAACAAMADwABAAAAAAADAAQADwABAAAAAAADAAYADwABAAAAAAAEAAQADwABAAAAAAAEAAUADwABAAAAAAAEAAYADwABAAAAAAADAAUADwABAAAAAAAFAAYADwABAAAAAAAFAAQADwABAAAAAAAFAAMADwABAAAAAAAGAAQADwABAAAAAAAFAAUADwABAAAAAAAGAAYADwABAAAAAAAGAAMADwABAAAAAAAHAAQADwABAAAAAAAGAAUADwABAAAAAAAHAAUADwABAAAAAAAHAAYADwABAAAAAAAIAAYADwABAAAAAAAEAAkADwABAAAAAAAEAAoADwABAAAAAAA=")
tile_set = SubResource("TileSet_vrc2l")
script = ExtResource("2_cu7li")

[node name="TileMapLayer2" type="TileMapLayer" parent="."]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAADAAQAAAAAAAAAAQAFAA0AAAAAAAAAAQAAAAsAAAAAAAAAAQA=")
tile_set = SubResource("TileSet_7kj6o")

[node name="Enemies" type="Node2D" parent="TileMapLayer2"]
y_sort_enabled = true

[node name="Enemy" parent="TileMapLayer2/Enemies" node_paths=PackedStringArray("target") instance=ExtResource("2_2upi3")]
position = Vector2(847, 539)
target = NodePath("../../../MissPointMarker")

[node name="Enemy2" parent="TileMapLayer2/Enemies" node_paths=PackedStringArray("target") instance=ExtResource("2_2upi3")]
position = Vector2(572, 200)
target = NodePath("../../../MissPointMarker")

[node name="MissPointMarker" parent="." instance=ExtResource("4_pr3gx")]

[node name="Builder" parent="." node_paths=PackedStringArray("terrain_tilemap", "tower_tilemap") instance=ExtResource("4_d4f77")]
process_mode = 4
terrain_tilemap = NodePath("../TileMapLayer")
tower_tilemap = NodePath("../TileMapLayer2")

[node name="EnemySpawner" parent="." node_paths=PackedStringArray("target") instance=ExtResource("6_audhg")]
position = Vector2(136, 111)
enemy_type = ExtResource("2_2upi3")
target = NodePath("../MissPointMarker")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="MainUi" parent="CanvasLayer" instance=ExtResource("8_l2cck")]

[node name="Cursor" parent="CanvasLayer" instance=ExtResource("5_oxm6x")]
position = Vector2(591, 344)

[connection signal="place_end" from="Builder" to="TileMapLayer" method="_on_builder_place_end"]
[connection signal="place_start" from="Builder" to="TileMapLayer" method="_on_builder_place_start"]
[connection signal="tower_selected" from="CanvasLayer/MainUi" to="Builder" method="_on_main_ui_tower_selected"]
